{% extends "base.html" %}
{% load static %}
{% block title %}{{ post.title }} - Venture Planner{% endblock %}

{% block meta_description %}{{ post.meta_description|default:post.sub_title|default:post.title|truncatechars:160 }}{% endblock %}
{% block meta_keywords %}{{ post.meta_keywords }}{% endblock %}

{% block og_type %}article{% endblock %}
{% block og_title %}{{ post.title }}{% endblock %}
{% block og_description %}{{ post.meta_description|default:post.sub_title|default:post.title }}{% endblock %}
{% block og_image %}{{ post.image.url }}{% endblock %}

{% block twitter_title %}{{ post.title }}{% endblock %}
{% block twitter_description %}{{ post.meta_description|default:post.sub_title|default:post.title }}{% endblock %}
{% block twitter_image %}{{ post.image.url }}{% endblock %}

{% block content %}
<!-- Schema.org Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ post.title|escapejs }}",
  "image": "{{ post.image.url }}",
  "datePublished": "{{ post.created_date|date:'c' }}",
  "dateModified": "{{ post.created_date|date:'c' }}",
  {% if post.author %}"author": {
    "@type": "Person",
    "name": "{{ post.author.name|escapejs }}"
  },{% endif %}
  "publisher": {
    "@type": "Organization",
    "name": "Venture Planner",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ request.scheme }}://{{ request.get_host }}{% static 'images/favicon.png' %}"
    }
  },
  "description": "{{ post.meta_description|default:post.sub_title|default:post.title|escapejs }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ request.build_absolute_uri }}"
  }{% if post.tags.all %},
  "keywords": "{% for tag in post.tags.all %}{{ tag.title }}{% if not forloop.last %}, {% endif %}{% endfor %}"{% endif %}
}
</script>
<div class="page-single-post">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="post-image">
                    <figure class="image-anime reveal">
                        <img src="{{ post.image.url }}" alt="{{ post.title }}" loading="lazy">
                    </figure>
                </div>
                <div class="post-content">
                    <div class="post-entry">
                        {{ post.article|safe }}
                    </div>
                    <div class="post-tag-links">
                        <div class="row align-items-center">
                            <div class="col-lg-8">
                                <div class="post-tags wow fadeInUp" data-wow-delay="0.5s">
                                    <span class="tag-links">
                                        Tags:
                                        {% for tag in post.tags.all %}
                                            <a href="#">{{ tag.title }}</a>
                                        {% endfor %}
                                    </span>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="post-social-sharing wow fadeInUp" data-wow-delay="0.5s">
                                    <ul>
                                        <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
                                        <li><a href="#"><i class="fa-brands fa-linkedin-in"></i></a></li>
                                        <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                                        <li><a href="#"><i class="fa-brands fa-x-twitter"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}